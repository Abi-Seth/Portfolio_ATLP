<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AbiSeth</title>
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
    <div class="loader" id="loader">
        <img src="./assets/loader.gif" alt="">
        <p>loading . . .</p>
    </div>
    <div id="main_container">
        <div class="banner">
            <div class="navigation">
                <div class="logo">
                    <h1>Abi<span>Seth</span></h1>

                    <div class="icon_toggle">
                        <svg onclick="toggleMenu()" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></svg>  
                    </div>
                </div>
                <div class="nav_links" id="nav_links">
                    <ul>
                        <li><a class="active" href="./index.html">Home</a></li>
                        <li><a href="./blogs.html">Blogs</a></li>
                        <li><a href="#contact">Talk to me</a></li>
                        <li><a href="#about">About me</a></li>
                        <li><a href="#work">Work</a></li>
                    </ul>
                </div>
                <div class="hire_btn">
                    <!-- <button>Hire me</button> -->
                    <button onclick="window.location  = './index.html#contact'"><a style="color: white;">Hire me</a></button>
                </div>
            </div>
            <div class="banner_content">
                <div class="introduction">
                    <h1>Hello,</h1>
                    <h1>I am <span>Seth Abi</span></h1>
                    <h1>Fullstack web developer</h1>

                    <p>I am a fullstack web developer allocated in Rwanda</p>
                    <div class="btns">
                        <button>Let me work with you</button>
                        <p><span>or</span> &nbsp; Download resume</p>
                    </div>
                </div>
                <div class="personal_image">
                    <div class="circle">
                        <img src="./assets/Ellipse 1.png" alt="">
                    </div>
                    <img src="./assets/seth_1.JPG" alt="seth">
                </div>
            </div>
        </div>

        <div class="about_me" id="about">
            <div class="about_me_container">
                <div class="image_svg">
                    <img src="./assets/seo-agency3 1.png" alt="">
                </div>  
                <div class="about_description">
                    <h1>Get To Know Me</h1>
                    <p>If you want to know alittle more about me</p>
                    <p>Everytime I get an idea of a certain project, immediately think about where I will get capital or investors and since I know no where, I stop. We are here to solve that. We make sure you reach the real investors with your prooject being safe.</p>
                    <div class="about_btns">
                        <button onclick="window.location  = './index.html#contact'">Contact me for any deals</button>
                        <button class="download_btn">Download my resume</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="services">

        </div>

        <div class="projects" id="work">
            <div class="projects_container">
                <h1>Some of my projects</h1>
                <p>Some of the projects that I have been working on</p>
                <div class="cards">
                    <div class="project">
                        <img src="./assets/1.png" alt="">
                    </div>
                    <div class="project">
                        <img src="./assets/2.png" alt="">
                    </div>
                    <div class="project">
                        <img src="./assets/3.png" alt="">
                    </div>
                    <div class="project">
                        <img src="./assets/4.png" alt="">
                    </div>
                </div>
            </div>
        </div>

        <div class="contact" id="contact">
            <div class="form">
                <h1>Quick contact</h1>
                <p>Everytime I get an idea of a certain project, immediately think about where I will get capital or investors and since I know no where, I stop. We are here to solve that. We make sure you reach the real investors with your prooject being safe.</p>
                <div class="form_container" id="form">
                    <div style="width: 120%" class="input_password error" id="error">
                        <span>
                            <h5 id="error_message"></h5>
                        </span>
                    </div>
                    <div class="input">
                        <input type="text" id="names" placeholder="Enter your names">
                    </div>
                    <div class="input">
                        <input type="email" id="email" placeholder="Enter your email">
                    </div>
                    <div class="input text_area">
                        <textarea id="message" placeholder="Enter you message . . ." cols="30" rows="10"></textarea>
                    </div>
                    <div class="input send_btn">
                        <button onclick="contact()">
                            <a style="color: white;" id="messageBtn">Send message</a>
                            <a style="color: white;" id="processing">Processing . . .</a>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Copyright @ abiseth. All right must be reserved</p>
        </div>
    </div>
    <script>

        document.getElementById('form').addEventListener('keypress', function (e) {
            if (e.key === 'Enter')
                contact();
        })

        let msgBtn = document.getElementById('messageBtn');
        let processing = document.getElementById('processing');
        processing.style.display = 'none';
        let loading = false;
        let msg = document.getElementById('error_message');
        let msgContainer = document.getElementById('error');
        function contact() {
            if (loading)
                return;

            msgContainer.classList.add('error');
            let names = document.getElementById('names').value.trim();
            let email = document.getElementById('email').value.trim();
            let message = document.getElementById('message').value;
            let data = {
                email,
                names,
                message
            }
            validateMsgData(data);
        }

        function validateMsgData(data) {

            if (data.names.length <= 0) {
                msg.innerHTML = 'Names is required!';
                msgContainer.classList.remove('error');
                return;
            }

            if (data.email.length <= 0) {
                msg.innerHTML = 'Email address is required!';
                msgContainer.classList.remove('error');
                return;
            }

            if (data.message.length <= 0) {
                msg.innerHTML = 'Message is required!';
                msgContainer.classList.remove('error');
                return;
            }

            if (data.email.length < 6) {
                msg.innerHTML = 'Invalid email address';
                msgContainer.classList.remove('error');
                return;
            }

            if ((/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email))) {
                msg.innerHTML = 'Invalid email address';
                msgContainer.classList.remove('error');
                return;
            }

            message(data);

        }

        async function message(data) {
            msgBtn.style.display = 'none';
            processing.style.display = 'unset';
            loading = true;

            let payload = {
                messageNames: data.names,
                messageEmail: data.email,
                messageContent: data.message
            }

            fetch("https://abiseth-portfolio.herokuapp.com/api/v1/messages/", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify(payload)
            })
                .then(res => res.json())
                .then((data) => {
                    let email = document.getElementById('email');
                    let names = document.getElementById('names');
                    let message= document.getElementById('message');

                    if (data.success != true && data.status != 200) {
                        msg.innerHTML = data.message;
                        msgContainer.classList.remove('error');
                    }

                    email.value = '';
                    names.value = '';
                    message.value = '';
                    processing.style.display = 'none';
                    msgBtn.style.display = 'unset';
                    loading = false;
                    alert('Message sent ðŸ”¥');

                });
        }
    </script>
    <script src="./js/main.js"></script>
</body>
</html>